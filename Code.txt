Index.html

<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TTH Messenger</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f4f4f4;
      color: #333;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #0088cc; /* –¢–µ–ª–µ–≥—Ä–∞–º–º–æ–≤—Å–∫–∏–π —Å–∏–Ω–∏–π */
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px;
    }

    #profile-pic-container {
      display: flex;
      align-items: center;
    }

    #profile-pic {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 10px;
      border: 2px solid #fff;
    }

    h1 {
      font-size: 24px;
      margin: 0;
    }

    #settings-icon {
      font-size: 20px;
      cursor: pointer;
    }

    /* –°—Ç–∏–ª—å –¥–ª—è —à–∞–ø–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è */
    #profile-header {
      background-color: white;
      max-width: 500px;
      margin: 20px auto;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      text-align: center;
    }

    #profile-banner {
      width: 100%;
      border-radius: 8px;
    }

    #profile-pic {
      width: 80px;
      height: 80px;
    }

    #username {
      margin-top: 10px;
      font-size: 20px;
      color: #333;
    }

    /* –°—Ç–∏–ª—å –¥–ª—è –ø–æ—Å—Ç–æ–≤ */
    #posts-section {
      margin: 20px auto;
      max-width: 500px;
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    #post-input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      resize: none;
      margin-bottom: 10px;
    }

    #publish-post {
      background-color: #0088cc;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    /* –ß–∞—Ç */
    #chat-container {
      margin: 20px auto;
      max-width: 500px;
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    #chat-input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin-bottom: 10px;
    }

    #send-message {
      background-color: #0088cc;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    /* –ö–Ω–æ–ø–∫–∏ –Ω–∏–∂–Ω–µ–≥–æ –º–µ–Ω—é */
    #bottom-menu {
      position: fixed;
      bottom: 0;
      width: 100%;
      display: flex;
      justify-content: space-around;
      background-color: #fff;
      border-top: 1px solid #ccc;
      padding: 10px 0;
    }

    #bottom-menu button {
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
      color: #0088cc;
    }

    #bottom-menu button:focus {
      outline: none;
    }

    @media (max-width: 768px) {
      header {
        font-size: 18px;
      }

      #profile-header {
        padding: 10px;
      }

      #post-input, #chat-input {
        padding: 8px;
      }

      #publish-post, #send-message {
        padding: 8px 15px;
      }

      #bottom-menu button {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div id="profile-pic-container">
      <img id="profile-pic" src="images/default-avatar.png" alt="–ê–≤–∞—Ç–∞—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
      <h1>TTH Messenger</h1>
    </div>
    <div id="settings-icon" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">&#9881;</div>
  </header>

  <main>
    <div id="profile-header">
      <img id="profile-banner-img" src="images/default-banner.jpg" alt="–®–∞–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è">
      <img id="profile-pic" src="images/default-avatar.png" alt="–ê–≤–∞—Ç–∞—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
      <h2 id="username">–ò–º—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
    </div>

    <section id="posts-section">
      <textarea id="post-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –ø–æ—Å—Ç –∑–¥–µ—Å—å..." aria-label="–ü–æ–ª–µ –¥–ª—è –ø–æ—Å—Ç–∞"></textarea>
      <button id="publish-post">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
      <div id="posts-container"></div>
    </section>

    <div id="chat-container" aria-hidden="true">
      <input type="text" id="chat-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." aria-label="–ü–æ–ª–µ –¥–ª—è —á–∞—Ç–∞">
      <button id="send-message">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
  </main>

  <div id="bottom-menu">
    <button id="open-chats" aria-label="–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç—ã">–ß–∞—Ç—ã</button>
    <button id="open-channels" aria-label="–û—Ç–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª—ã">–ö–∞–Ω–∞–ª—ã</button>
  </div>

  <script src="js/app.js"></script>
</body>
</html>

style.css

/* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
.modal {
  display: none; /* –°–∫—Ä—ã–≤–∞–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
}

.modal-content {
  background-color: #fff;
  margin: 10% auto;
  padding: 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 400px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.close {
  color: #888;
  float: right;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
}

/* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
body {
  font-family: 'Roboto', sans-serif;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #f5f7fa;
  color: #333;
}

header {
  width: 100%;
  padding: 15px;
  background-color: #0066cc;
  color: white;
  text-align: center;
  font-size: 1.5em;
  position: relative;
}

#profile-pic-container {
  position: absolute;
  top: 15px;
  left: 15px;
}

#profile-pic {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  cursor: pointer;
}

#back-profile,
#back-settings {
  margin-bottom: 15px;
  padding: 12px;
  background-color: #e0e0e0;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

#settings-icon {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 26px;
  cursor: pointer;
  color: white;
}

#profile-container {
  width: 100%;
  max-width: 500px;
  margin-top: 20px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  text-align: center;
}

#profile-header {
  margin-bottom: 15px;
}

#username {
  font-size: 24px;
  margin: 15px 0;
  font-weight: bold;
}

#edit-profile {
  padding: 12px;
  background-color: #0066cc;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.3s;
}

#edit-profile:hover {
  background-color: #005bb5;
}

#profile-info p {
  margin: 8px 0;
  font-size: 14px;
  color: #555;
}

/* –†–∞–∑–¥–µ–ª –ø–æ—Å—Ç–æ–≤ –∏ –∫–∞–Ω–∞–ª–æ–≤ */
#posts-section,
#channels-section,
#chat-container,
#post-container,
#voice-message-container {
  width: 100%;
  max-width: 500px;
  margin-top: 20px;
  text-align: center;
}

.channel-avatar {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  margin-right: 10px;
}

.channel-item {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
  background-color: #f9f9f9;
  padding: 10px;
  border-radius: 8px;
}

.channel-post {
  margin-left: 50px;
  margin-top: 8px;
  padding: 10px;
  background-color: #ececec;
  border-radius: 8px;
}

#chat-box {
  width: 100%;
  height: 350px;
  border: 1px solid #ccc;
  padding: 15px;
  overflow-y: scroll;
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 3px 5px rgba(0, 0, 0, 0.1);
}

#chat-input,
#post-input {
  width: 85%;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 6px;
  margin-top: 10px;
}

#send-message,
#publish-post,
#add-channel {
  padding: 12px;
  background-color: #0066cc;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 10px;
  transition: background-color 0.3s;
}

#send-message:hover,
#publish-post:hover,
#add-channel:hover {
  background-color: #005bb5;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
.image-gallery {
  display: flex;
  flex-wrap: wrap;
  margin-top: 15px;
}

.image-gallery img {
  width: 90px;
  height: 90px;
  object-fit: cover;
  margin: 8px;
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.file-link {
  margin-top: 12px;
  text-decoration: none;
  color: #0066cc;
  word-break: break-all;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π */
#voice-messages-list {
  margin-top: 15px;
  display: flex;
  flex-direction: column;
}

.voice-message {
  margin: 10px 0;
  padding: 10px;
  background-color: #ececec;
  border-radius: 8px;
}

aside {
  position: fixed;
  top: 0;
  right: 0;
  width: 300px;
  height: 100%;
  background-color: #f0f0f0;
  padding: 20px;
  display: none;
  box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
}

aside.active {
  display: block;
}

.dark-theme {
  background-color: #333;
  color: #fff;
}

.dark-theme #chat-box {
  background-color: #444;
}

.dark-theme #send-message,
.dark-theme #publish-post,
.dark-theme #add-channel {
  background-color: #0056b3;
}

/* –ú–µ–¥–∏–∞ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 600px) {
  #chat-input,
  #post-input {
    width: 100%;
  }

  #send-message,
  #publish-post,
  #add-channel {
    width: 100%;
    margin-top: 8px;
  }

  .image-gallery img {
    width: 70px;
    height: 70px;
  }

  #profile-container {
    padding: 15px;
  }

  header {
    font-size: 1.2em;
    padding: 10px;
  }
}

app.js

// –ü–æ–ª—É—á–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
const backProfileButton = document.getElementById('back-profile');
const backSettingsButton = document.getElementById('back-settings');

// –ü–æ–ª—É—á–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Å–∫—Ä—ã—Ç—å
const profileMenu = document.getElementById('profile-menu');
const settingsMenu = document.getElementById('settings-menu');
const mainSection = document.querySelector('main'); // –∏–ª–∏ –≤–∞—à –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
function showMainScreen() {
    profileMenu.style.display = 'none';
    settingsMenu.style.display = 'none';
    mainSection.style.display = 'block'; // –ü–æ–∫–∞–∂–∏—Ç–µ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–ù–∞–∑–∞–¥"
backProfileButton.addEventListener('click', showMainScreen);
backSettingsButton.addEventListener('click', showMainScreen);

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–æ—Ñ–∏–ª—è
function openProfile() {
    mainSection.style.display = 'none'; // –°–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
    profileMenu.style.display = 'block'; // –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
function openSettings() {
    mainSection.style.display = 'none'; // –°–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
    settingsMenu.style.display = 'block'; // –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫
}

// –ü—Ä–∏–º–µ—Ä, –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–Ω–æ–ø–æ–∫
document.getElementById('settings-icon').addEventListener('click', openSettings);
document.getElementById('profile-pic').addEventListener('click', openProfile);

// –î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∞—Ç–∞–º–∏, –ø–æ—Å—Ç–∞–º–∏ –∏ –∫–∞–Ω–∞–ª–∞–º–∏ –∑–¥–µ—Å—å

auth.js

document.addEventListener('DOMContentLoaded', () => {
  const logoutButton = document.getElementById('logout');

  logoutButton.addEventListener('click', () => {
    // Simple logout functionality
    alert('You have been logged out.');
    window.location.reload();
  });
});

channels.js

// channels.js
document.addEventListener('DOMContentLoaded', () => {
  const channelsList = document.getElementById('channels-list');
  const addChannelButton = document.getElementById('add-channel');
  const channelNameInput = document.getElementById('new-channel-name');
  const channelAvatarInput = document.getElementById('new-channel-avatar');

  addChannelButton.addEventListener('click', () => {
    const channelName = channelNameInput.value;
    const channelAvatar = channelAvatarInput.files[0];

    if (channelName) {
      const channel = document.createElement('li');
      channel.classList.add('channel-item');

      // Create channel avatar
      const avatar = document.createElement('img');
      const reader = new FileReader();

      reader.onload = function(e) {
        avatar.src = e.target.result;
        avatar.alt = `${channelName} Avatar`;
        avatar.classList.add('channel-avatar');
        channel.appendChild(avatar);
      };

      if (channelAvatar) {
        reader.readAsDataURL(channelAvatar);
      } else {
        avatar.src = 'images/default-channel-avatar.png'; // default avatar
      }

      // Create channel name
      const name = document.createElement('span');
      name.textContent = channelName;
      channel.appendChild(name);

      // Create post input for channel
      const postInput = document.createElement('textarea');
      postInput.placeholder = 'Write a message to this channel...';
      channel.appendChild(postInput);

      const sendPostButton = document.createElement('button');
      sendPostButton.textContent = 'Send Post';
      channel.appendChild(sendPostButton);

      // Add post functionality
      sendPostButton.addEventListener('click', () => {
        const postContent = postInput.value;
        if (postContent) {
          const post = document.createElement('div');
          post.classList.add('channel-post');
          post.textContent = postContent;
          channel.appendChild(post);
          postInput.value = '';
        }
      });

      channelsList.appendChild(channel);
      channelNameInput.value = '';
      channelAvatarInput.value = '';
    } else {
      alert('Please enter a channel name.');
    }
  });
});

chat.js

document.addEventListener('DOMContentLoaded', () => {
  const chatBox = document.getElementById('chat-box');
  const chatInput = document.getElementById('chat-input');
  const sendMessageButton = document.getElementById('send-message');
  const fileInput = document.getElementById('file-input');
  const userNickname = "–¢–≤–æ–π –ù–∏–∫";

  // –î–ª—è –ø–æ—Å—Ç–æ–≤
  const postInput = document.getElementById('post-input');
  const postFileInput = document.getElementById('post-file-input'); // –ü–æ–ª–µ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –≤ –ø–æ—Å—Ç–∞—Ö
  const publishPostButton = document.getElementById('publish-post');
  const postsSection = document.getElementById('posts-container'); // –°–µ–∫—Ü–∏—è –ø–æ—Å—Ç–æ–≤
  const clearChatButton = document.getElementById('clear-chat');

  sendMessageButton.addEventListener('click', () => {
    const message = chatInput.value.trim();
    const files = fileInput.files;

    if (message || files.length > 0) {
      const newMessage = document.createElement('div');
      newMessage.classList.add('message');

      const sender = document.createElement('strong');
      sender.textContent = `${userNickname}: `;
      newMessage.appendChild(sender);

      if (message) {
        const text = document.createElement('span');
        text.textContent = message;
        newMessage.appendChild(text);
      }

      if (files.length > 0) {
        const gallery = document.createElement('div');
        gallery.classList.add('image-gallery');

        Array.from(files).forEach(file => {
          if (file.type.startsWith('image/')) {
            const reader = new FileReader();

            reader.onload = (e) => {
              const img = document.createElement('img');
              img.src = e.target.result;
              gallery.appendChild(img);
            };

            reader.readAsDataURL(file);
          } else {
            const fileLink = document.createElement('a');
            fileLink.href = URL.createObjectURL(file);
            fileLink.textContent = `Download ${file.name}`;
            fileLink.classList.add('file-link');
            gallery.appendChild(fileLink);
          }
        });

        newMessage.appendChild(gallery);
      }

      chatBox.appendChild(newMessage);
      chatInput.value = '';
      fileInput.value = '';
      chatBox.scrollTop = chatBox.scrollHeight;
    } else {
      alert('Please enter a message or select a file.');
    }
  });

  // –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤
  publishPostButton.addEventListener('click', () => {
    const postMessage = postInput.value.trim();
    const postFiles = postFileInput.files;

    if (postMessage || postFiles.length > 0) {
      const newPost = document.createElement('div');
      newPost.classList.add('post');

      const postSender = document.createElement('strong');
      postSender.textContent = `${userNickname}: `;
      newPost.appendChild(postSender);

      if (postMessage) {
        const postText = document.createElement('span');
        postText.textContent = postMessage;
        newPost.appendChild(postText);
      }

      if (postFiles.length > 0) {
        const postGallery = document.createElement('div');
        postGallery.classList.add('image-gallery');

        Array.from(postFiles).forEach(file => {
          if (file.type.startsWith('image/')) {
            const reader = new FileReader();

            reader.onload = (e) => {
              const img = document.createElement('img');
              img.src = e.target.result;
              postGallery.appendChild(img);
            };

            reader.readAsDataURL(file);
          } else {
            const fileLink = document.createElement('a');
            fileLink.href = URL.createObjectURL(file);
            fileLink.textContent = `Download ${file.name}`;
            fileLink.classList.add('file-link');
            postGallery.appendChild(fileLink);
          }
        });

        newPost.appendChild(postGallery);
      }

      postsSection.appendChild(newPost);
      postInput.value = '';
      postFileInput.value = '';
      postsSection.scrollTop = postsSection.scrollHeight;
    } else {
      alert('Please enter a message or select a file.');
    }
  });

  clearChatButton.addEventListener('click', () => {
    chatBox.innerHTML = '';
    alert('Chat cleared.');
  });
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø–æ—Å—Ç–∞–º–∏ –∏ —á–∞—Ç–æ–º
  const openChatsButton = document.getElementById('open-chats');
  const openChannelsButton = document.getElementById('open-channels');
  const backToPostsButton = document.getElementById('back-to-posts');
  const backToPostsChannelsButton = document.getElementById('back-to-posts-channels');
  const channelsContainer = document.getElementById('channels-container');

  openChatsButton.addEventListener('click', () => {
    document.getElementById('chat-container').style.display = 'block';
    document.getElementById('channels-container').style.display = 'none';
    postsSection.style.display = 'none';
  });

  openChannelsButton.addEventListener('click', () => {
    channelsContainer.style.display = 'block';
    document.getElementById('chat-container').style.display = 'none';
    postsSection.style.display = 'none';
  });

  backToPostsButton.addEventListener('click', () => {
    document.getElementById('chat-container').style.display = 'none';
    postsSection.style.display = 'block';
  });

  backToPostsChannelsButton.addEventListener('click', () => {
    channelsContainer.style.display = 'none';
    postsSection.style.display = 'block';
  });
});

main.js

// main.js

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function openModal() {
  const modal = document.getElementById("myModal");
  modal.style.display = "block";
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function closeModal() {
  const modal = document.getElementById("myModal");
  modal.style.display = "none";
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
window.onclick = function (event) {
  const modal = document.getElementById("myModal");
  if (event.target === modal) {
    modal.style.display = "none";
  }
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
function sendMessage() {
  const messageInput = document.getElementById("chat-input");
  const message = messageInput.value.trim();

  if (message !== "") {
    const chatBox = document.getElementById("chat-box");
    const newMessage = document.createElement("div");
    newMessage.classList.add("message");
    newMessage.textContent = message;
    chatBox.appendChild(newMessage);

    messageInput.value = ""; // –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞
    chatBox.scrollTop = chatBox.scrollHeight; // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω–∏–∑
  }
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
document.getElementById("send-message").addEventListener("click", sendMessage);

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é Enter
document.getElementById("chat-input").addEventListener("keypress", function (e) {
  if (e.key === "Enter") {
    sendMessage();
  }
});

// –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
document.getElementById("profile-pic").addEventListener("click", function () {
  const profileContainer = document.getElementById("profile-container");
  profileContainer.style.display = "block";
});

// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
document.getElementById("back-profile").addEventListener("click", function () {
  const profileContainer = document.getElementById("profile-container");
  profileContainer.style.display = "none";
});

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫
document.getElementById("settings-icon").addEventListener("click", function () {
  const settingsMenu = document.querySelector("aside");
  settingsMenu.classList.toggle("active");
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
function toggleDarkTheme() {
  document.body.classList.toggle("dark-theme");
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–º—ã –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
document.addEventListener('DOMContentLoaded', () => {
  const currentTheme = localStorage.getItem('theme');
  if (currentTheme === 'dark') {
    document.body.classList.add('dark-theme');
  }

  document.getElementById("toggle-theme").addEventListener("click", () => {
    toggleDarkTheme();

    const theme = document.body.classList.contains('dark-theme') ? 'dark' : 'light';
    localStorage.setItem('theme', theme);
  });
});

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
function publishPost() {
  const postInput = document.getElementById("post-input");
  const postText = postInput.value.trim();

  if (postText !== "") {
    const postSection = document.getElementById("posts-section");
    const newPost = document.createElement("div");
    newPost.classList.add("post");
    newPost.textContent = postText;
    postSection.appendChild(newPost);

    postInput.value = ""; // –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞
  }
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞
document.getElementById("publish-post").addEventListener("click", publishPost);

posts.js

document.addEventListener('DOMContentLoaded', () => {
  const postInput = document.getElementById('post-input');
  const publishPostButton = document.getElementById('publish-post');

  publishPostButton.addEventListener('click', () => {
    const postContent = postInput.value.trim();

    if (postContent) {
      const postElement = document.createElement('div');
      postElement.textContent = postContent;
      document.body.appendChild(postElement);
      postInput.value = '';
      alert('Post published.');
    } else {
      alert('Please enter something to post.');
    }
  });
});

profile.js

document.addEventListener('DOMContentLoaded', () => {
  const profilePic = document.getElementById('profile-pic');
  const profileMenu = document.getElementById('profile-menu');
  const saveProfileButton = document.getElementById('save-profile');
  const avatarUpload = document.getElementById('avatar-upload');

  // –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∞–≤–∞—Ç–∞—Ä
  profilePic.addEventListener('click', () => {
    profileMenu.classList.toggle('active');
  });

  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ—Ñ–∏–ª—è
  saveProfileButton.addEventListener('click', () => {
    const newName = document.getElementById('edit-name').value;
    const newNickname = document.getElementById('edit-nickname').value;

    if (newName) {
      // –ï—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–æ–≤—ã–π –∞–≤–∞—Ç–∞—Ä, —Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –µ–≥–æ
      if (avatarUpload.files.length > 0) {
        profilePic.src = URL.createObjectURL(avatarUpload.files[0]);
      } else {
        profilePic.src = 'images/default-avatar.png'; // –ï—Å–ª–∏ –Ω–µ—Ç, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–≤–∞—Ç–∞—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
      }

      alert(`Profile saved. Name: ${newName}, Nickname: ${newNickname}`);
    } else {
      alert('Please enter a name.');
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è
    profileMenu.classList.remove('active');
  });
});

scripts.js

// –ü–æ–ª—É—á–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã
var modal = document.getElementById("profile-modal");
var avatar = document.getElementById("profile-pic"); // ID –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞
var span = document.getElementsByClassName("close")[0];

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∞–≤–∞—Ç–∞—Ä–∫—É
avatar.onclick = function() {
  modal.style.display = "block";
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ "x"
span.onclick = function() {
  modal.style.display = "none";
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–º–µ–Ω—ã —à–∞–ø–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
function changeProfileBanner(event) {
  const bannerImg = document.getElementById('profile-banner-img');
  const file = event.target.files[0];
  
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      bannerImg.src = e.target.result;
    }
    reader.readAsDataURL(file);
  }
}

// –î–æ–±–∞–≤–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —à–∞–ø–∫–∏
document.getElementById('banner-upload').addEventListener('change', changeProfileBanner);

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–º–µ–Ω—ã –∞–≤–∞—Ç–∞—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è
function changeProfileAvatar(event) {
  const avatarImg = document.getElementById('profile-pic'); // ID –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤–∞—Ç–∞—Ä–∞
  const file = event.target.files[0];
  
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      avatarImg.src = e.target.result;
    }
    reader.readAsDataURL(file);
  }
}

// –î–æ–±–∞–≤–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤–∞—Ç–∞—Ä–∞
document.getElementById('avatar-upload').addEventListener('change', changeProfileAvatar);

settings.js

document.addEventListener('DOMContentLoaded', () => {
  const toggleThemeButton = document.getElementById('toggle-theme');

  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–µ–º—ã –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
  const currentTheme = localStorage.getItem('theme');
  if (currentTheme === 'dark') {
    document.body.classList.add('dark-theme');
  }

  toggleThemeButton.addEventListener('click', () => {
    document.body.classList.toggle('dark-theme');

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–º—ã –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
    if (document.body.classList.contains('dark-theme')) {
      localStorage.setItem('theme', 'dark');
    } else {
      localStorage.setItem('theme', 'light');
    }
  });
});

voice.js

let mediaRecorder;
let audioChunks = [];

export async function startRecording(stream) {
    mediaRecorder = new MediaRecorder(stream);
    mediaRecorder.start();
    console.log('Recording started.');

    mediaRecorder.addEventListener("dataavailable", event => {
        audioChunks.push(event.data);
        console.log('Audio chunk available.');
    });

    mediaRecorder.addEventListener("stop", () => {
        const audioBlob = new Blob(audioChunks, { type: 'audio/mp3' });
        const audioUrl = URL.createObjectURL(audioBlob);
        audioChunks = []; // –æ—á–∏—Å—Ç–∫–∞ –º–∞—Å—Å–∏–≤–∞ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–ø–∏—Å–∏
        console.log('Recording stopped.');

        // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—É–¥–∏–æ
        displayVoiceMessage(audioUrl);
    });
}

export function stopRecording() {
    if (mediaRecorder) {
        mediaRecorder.stop();
        console.log('Stopping recording...');
    }
}

function displayVoiceMessage(audioUrl) {
    const voiceMessagesList = document.getElementById('voice-messages-list');
    const audioElement = document.createElement('audio');
    audioElement.controls = true;
    audioElement.src = audioUrl;
    voiceMessagesList.appendChild(audioElement);
    console.log('Voice message displayed.');
}

voiceMessages.js

import { startRecording, stopRecording } from './voice.js';

const toggleRecordVoiceButton = document.getElementById('toggle-record-voice');
let recording = false;

toggleRecordVoiceButton.addEventListener('click', async () => {
    try {
        if (!recording) {
            console.log('Requesting audio stream...');
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            console.log('Audio stream obtained.');
            await startRecording(stream);
            recording = true;
            toggleRecordVoiceButton.innerText = '‚èπ Stop Recording';
        } else {
            stopRecording();
            recording = false;
            toggleRecordVoiceButton.innerText = 'üé§ Start Recording';
        }
    } catch (error) {
        console.error('Error accessing audio stream:', error);
        alert('Could not access microphone. Please check permissions.');
    }
});
